(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/1K/":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("AytR"),n=i("tk/3"),r=i("fXoL");let s=(()=>{class t{constructor(t){this.http=t,this.endpoints=a.a.endpoints,this.headers=(new n.d).set("Content-Type","multipart/form-data")}cargarImagen(t){let e=`${this.endpoints.archivos}${t}/`,i={headers:(new n.d).set("Content-Type","application/json")};return this.http.get(e,i)}guardarImagen(t,e){return this.http.post(`${this.endpoints.archivos}${e}`,t,{})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(n.b))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Wp6s:function(t,e,i){"use strict";i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return p})),i.d(e,"c",(function(){return d})),i.d(e,"d",(function(){return f})),i.d(e,"e",(function(){return h})),i.d(e,"f",(function(){return b})),i.d(e,"g",(function(){return u})),i.d(e,"h",(function(){return m}));var a=i("R1ws"),n=i("FKr1"),r=i("fXoL");const s=["*",[["mat-card-footer"]]],o=["*","mat-card-footer"],c=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),p=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),g=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(a.a,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:o,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(s),r.ic(0),r.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.jc(c),r.ic(0),r.Tb(1,"div",0),r.ic(2,1),r.Sb(),r.ic(3,2))},encapsulation:2,changeDetection:0}),t})(),b=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[n.i],n.i]}),t})()},nVpM:function(t,e,i){"use strict";i.d(e,"a",(function(){return F}));var a=i("0IaG"),n=i("fXoL"),r=i("dNgK"),s=i("/1K/"),o=i("3Pt+"),c=i("ofXK"),l=i("jhN1"),d=i("kmnG"),m=i("Qu3c"),u=i("NFeN"),p=i("A5z7");const h=["fileUpload"];function g(t,e){if(1&t){const t=n.Ub();n.Tb(0,"mat-chip",8),n.ac("removed",(function(i){n.rc(t);const a=e.$implicit;return n.ec().removeFile(i,a)})),n.Tb(1,"label"),n.zc(2),n.Sb(),n.Tb(3,"mat-icon",9),n.zc(4),n.Sb(),n.Sb()}if(2&t){const t=e.$implicit,i=n.ec();n.Bb(2),n.Ac(t.name),n.Bb(2),n.Ac(i.deleteButtonIcon)}}function f(t,e){if(1&t&&(n.Tb(0,"mat-error"),n.zc(1),n.Sb()),2&t){const t=n.ec();n.Bb(1),n.Ac(t.invalidFileSizeMessage)}}function b(t,e){if(1&t&&(n.Tb(0,"mat-error"),n.zc(1),n.Sb()),2&t){const t=n.ec();n.Bb(1),n.Ac(t.invalidFileTypeMessage)}}let v=(()=>{class t{constructor(t){this.sanitizer=t,this.multiple=!1,this.disabled=!1,this.maxFileSize=2097152,this.enabledFileTypes=["image/jpg","image/gif","image/svg","image/png","image/jpeg","image/vnd.microsoft.icon","text/plain","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],this.invalidFileSizeMessage="Tama\xf1o m\xe1ximo excedido.",this.invalidFileSize=!1,this.invalidFileTypeMessage="Tipo no v\xe1lido.",this.invalidFileType=!1,this.chooseLabel="Elegir",this.deleteButtonIcon="cancel",this.attachButtonIcon="attach_file",this.files=[],this.maxQFiles=4,(this.maxQFiles<1||this.maxQFiles>8)&&(this.maxQFiles=4)}onClick(t){this.fileUpload&&this.fileUpload.nativeElement.click()}onInput(t){}onFileSelected(t){let e=t.dataTransfer?t.dataTransfer.files:t.target.files;new FileReader;for(let i=0;i<e.length;i++){let t=e[i];this.validate(t)&&(t.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[i])),this.isMultiple()||(this.files=[]),this.files.length<this.maxQFiles&&this.files.push(e[i]))}}removeFile(t,e){let i;this.files&&-1!==(i=this.files.indexOf(e))&&(this.files.splice(i,1),this.clearInputElement())}validate(t){if(this.invalidFileSize=!1,this.invalidFileType=!1,t.size<=0||t.size>this.maxFileSize)return this.invalidFileSize=!0,!1;if(!this.enabledFileTypes.includes(t.type))return this.invalidFileType=!0,!1;for(const e of this.files)if(e.name===t.name&&e.lastModified===t.lastModified&&e.size==e.size&&e.type==e.type)return!1;return!0}clearInputElement(){this.invalidFileSize=!1,this.invalidFileType=!1,this.fileUpload.nativeElement.value=""}isMultiple(){return this.multiple}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(l.b))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-file-uploader"]],viewQuery:function(t,e){var i;1&t&&n.vc(h,!0),2&t&&n.nc(i=n.bc())&&(e.fileUpload=i.first)},inputs:{multiple:"multiple",disabled:"disabled",accept:"accept",maxFileSize:"maxFileSize",enabledFileTypes:"enabledFileTypes",invalidFileSizeMessage:"invalidFileSizeMessage",invalidFileSize:"invalidFileSize",invalidFileTypeMessage:"invalidFileTypeMessage",invalidFileType:"invalidFileType",chooseLabel:"chooseLabel",deleteButtonIcon:"deleteButtonIcon",attachButtonIcon:"attachButtonIcon",files:"files",maxQFiles:"maxQFiles"},decls:11,vars:8,consts:[["appearance","standard"],["mat-icon-button","","matTooltipPosition","below",1,"attach-icon",3,"matTooltip","disabled","matTooltipChange","click","disabledChange"],["type","file",1,"input_fileupload--hidden",3,"ngModel","accept","input","change","ngModelChange"],["fileUpload",""],["aria-label","Archivos"],["chipList",""],["selectable","false","removable","true",3,"removed",4,"ngFor","ngForOf"],[4,"ngIf"],["selectable","false","removable","true",3,"removed"],["matChipRemove",""]],template:function(t,e){1&t&&(n.Tb(0,"mat-form-field",0),n.Tb(1,"button",1),n.ac("matTooltipChange",(function(t){return e.chooseLabel=t}))("click",(function(t){return e.onClick(t)}))("disabledChange",(function(t){return e.disabled=t})),n.Tb(2,"mat-icon"),n.zc(3),n.Sb(),n.Sb(),n.Tb(4,"input",2,3),n.ac("input",(function(t){return e.onInput(t)}))("change",(function(t){return e.onFileSelected(t)}))("ngModelChange",(function(t){return e.inputFileName=t})),n.Sb(),n.Tb(6,"mat-chip-list",4,5),n.xc(8,g,5,2,"mat-chip",6),n.Sb(),n.Sb(),n.xc(9,f,2,1,"mat-error",7),n.xc(10,b,2,1,"mat-error",7)),2&t&&(n.Bb(1),n.kc("matTooltip",e.chooseLabel)("disabled",e.disabled),n.Bb(2),n.Ac(e.attachButtonIcon),n.Bb(1),n.kc("ngModel",e.inputFileName)("accept",e.accept),n.Bb(4),n.kc("ngForOf",e.files),n.Bb(1),n.kc("ngIf",e.invalidFileSize),n.Bb(1),n.kc("ngIf",e.invalidFileType))},directives:[d.c,m.a,u.a,o.b,o.p,o.s,p.c,c.m,c.n,p.a,p.d,d.b],styles:[".mat-form-field[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;align-content:center;width:100%}.mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.25em}.input_fileupload--hidden[_ngcontent-%COMP%]{display:none}"]}),t})();const x=["uploader"];function y(t,e){if(1&t&&(n.Tb(0,"span"),n.Ob(1,"img",6),n.Sb()),2&t){const t=e.$implicit;n.Bb(1),n.kc("src",t.objectURL,n.sc)}}let F=(()=>{class t{constructor(t,e,i,a,n){this.dialogRef=t,this.snackBar=e,this.archService=i,this.formBuilder=a,this.dialogdata=n,this.objeto=n.data,this.path=n.path,this.isSubmitting=!1,this.uploadForm=this.formBuilder.group({archivos:[],objeto:[this.objeto.id]})}onSubmit(t){if(t.stopPropagation(),t.preventDefault(),this.uploader.files.length>0){this.isSubmitting=!0;var e=new FormData;e.append("objeto",this.uploadForm.get("objeto").value);for(var i=0;i<this.uploader.files.length;i++)this.uploadForm.get("archivos").setValue(this.uploader.files[i]),e.append("archivos",this.uploadForm.get("archivos").value);this.archService.guardarImagen(e,this.path).subscribe(t=>this.submitSuccess("Se ha guardado correctamente la imagen"),()=>this.submitError("No se ha podido guardar la imagen"))}}submitSuccess(t){this.isSubmitting=!1,this.showError(t,"success"),this.dialogRef.close()}submitError(t){this.isSubmitting=!1,this.showError(t,"error")}showError(t,e="",i=2e3,a="bottom"){this.snackBar.open(t,"",{duration:i,verticalPosition:a,panelClass:e})}}return t.\u0275fac=function(e){return new(e||t)(n.Nb(a.g),n.Nb(r.a),n.Nb(s.a),n.Nb(o.d),n.Nb(a.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-form-upload-image"]],viewQuery:function(t,e){var i;1&t&&n.vc(x,!0),2&t&&n.nc(i=n.bc())&&(e.uploader=i.first)},decls:11,vars:3,consts:[[1,"upload-image"],[4,"ngFor","ngForOf"],["enabledFileTypes","'image/jpg', 'image/gif', 'image/svg', 'image/png', 'image/jpeg'"],["uploader",""],["mat-button","",3,"mat-dialog-close"],["type","submit",3,"disabled","click"],["alt","Imagen seleccionada",3,"src"]],template:function(t,e){if(1&t&&(n.Tb(0,"h3"),n.zc(1,"Adjunte una imagen"),n.Sb(),n.Tb(2,"div",0),n.xc(3,y,2,1,"span",1),n.Sb(),n.Ob(4,"app-file-uploader",2,3),n.Tb(6,"mat-dialog-actions"),n.Tb(7,"button",4),n.zc(8,"Cerrar"),n.Sb(),n.Tb(9,"button",5),n.ac("click",(function(t){return e.onSubmit(t)})),n.zc(10," Subir "),n.Sb(),n.Sb()),2&t){const t=n.oc(5);n.Bb(3),n.kc("ngForOf",null==t?null:t.files),n.Bb(4),n.kc("mat-dialog-close",e.objeto),n.Bb(2),n.kc("disabled",0==(null==t||null==t.files?null:t.files.length)||e.isSubmitting)}},directives:[c.m,v,a.c,a.d],styles:["h3[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1.4em auto}button[_ngcontent-%COMP%]{margin:1em auto}.upload-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;align-content:center;width:100%;max-height:125px;overflow:auto}.upload-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:250px}"]}),t})()},ytFt:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var a=i("fXoL"),n=i("ofXK"),r=i("XZNO"),s=i("tk/3"),o=i("AytR");let c=(()=>{class t{constructor(t){this.http=t,this.urldom=o.a.endpoints.archivos,this.imgb64=null}ngOnInit(){const t=this.urldom+this.slide,e=new s.d;this.http.get(t,{headers:e,responseType:"text"}).subscribe(t=>{this.imgb64=t},()=>{this.imgb64="assets/images/fallback.jpg"})}}return t.\u0275fac=function(e){return new(e||t)(a.Nb(s.b))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-secure-img"]],inputs:{slide:"slide"},decls:1,vars:1,consts:[["alt","backend image",1,"secure-image",3,"src"]],template:function(t,e){1&t&&a.Ob(0,"img",0),2&t&&a.kc("src",e.imgb64,a.sc)},styles:[".secure-image[_ngcontent-%COMP%]{max-width:175px;max-height:175px}"]}),t})();function l(t,e){1&t&&a.Ob(0,"div")}function d(t,e){if(1&t&&(a.Tb(0,"mat-carousel-slide",5,6),a.Ob(2,"app-secure-img",7),a.Sb()),2&t){const t=e.$implicit;a.kc("hideOverlay",!1),a.Bb(2),a.kc("slide",t)}}function m(t,e){if(1&t&&(a.Tb(0,"mat-carousel",3),a.xc(1,d,3,2,"mat-carousel-slide",4),a.Sb()),2&t){const t=a.ec();a.kc("hideArrows",!1)("hideIndicators",!1)("useKeyboard",!0)("useMouseWheel",!1),a.Bb(1),a.kc("ngForOf",t.slides)}}function u(t,e){1&t&&(a.Tb(0,"h5"),a.zc(1,"No hay imagenes para mostrar."),a.Sb())}let p=(()=>{class t{constructor(){this.slides=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Hb({type:t,selectors:[["app-carrusel-imagenes"]],inputs:{slides:"slides"},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["ifBlock",""],["elseBlock",""],["timings","250ms ease-in","maxWidth","auto","proportion","50","slides","5","orientation","ltr",3,"hideArrows","hideIndicators","useKeyboard","useMouseWheel"],["overlayColor","transparent",3,"hideOverlay",4,"ngFor","ngForOf"],["overlayColor","transparent",3,"hideOverlay"],["matCarouselSlide",""],[3,"slide"]],template:function(t,e){if(1&t&&(a.xc(0,l,1,0,"div",0),a.xc(1,m,2,5,"ng-template",null,1,a.yc),a.xc(3,u,2,0,"ng-template",null,2,a.yc)),2&t){const t=a.oc(2),i=a.oc(4);a.kc("ngIf",e.slides.length>0)("ngIfThen",t)("ngIfElse",i)}},directives:[n.n,r.a,n.m,r.c,c],styles:[""]}),t})()}}]);